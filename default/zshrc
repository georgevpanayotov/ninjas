unsetopt beep
setopt inc_append_history

bindkey -e
bindkey ^x accept-search
bindkey ';5D' backward-word
bindkey ';5C' forward-word

alias jerbs=jobs
alias exeunt=exit

set -o emacs

# Update the prompt string to include the "prompt_header"
# and set the screen's title if we're inside of a screen.
update_dir() {
    local PROMPT_HEADER="$(prompt_header.py)"
    PS1=" ## $PROMPT_HEADER%c $ "
    if [[ "$STY" != "" ]]; then
        stitle.sh
    fi
}

chpwd() {
    # Update the prompt and screen title whenever we change pwd.
    update_dir
}

zshaddhistory() {
    echo -n $1 >> ~/.zshpermanenthistory
}

pvim() {
    vim $@ -c "set nomod" -
}

() {
    if [[ "$SCREEN_CMD" == "" ]]; then
        local SCREEN_CMD=screen
    fi

    if [[ $(screen -ls | grep -i gpanayotov | wc -l) -eq 0 ]]; then
        $SCREEN_CMD -d -m -S gpanayotov
    fi
}

# Update the prompt and screen title at startup.
update_dir

# The following lines were added by compinstall
zstyle :compinstall filename '/Users/george/.zshrc'

autoload -Uz compinit
compinit
# End of lines added by compinstall
